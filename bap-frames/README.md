
# Fork of bap-frames 

Holds the `slicetrace` and `readtrace` programs in the `libtrace` subdirectory. 

`slicetrace` can be used to copy a section of a trace between two specific 
addresses. It can be given a file generated by running `objdump -D` and it will 
extract the code executed in `main`. 

```
slicetrace usage: -i inputfile -o outputfile [-d objdumpfile|-f fromaddr -t toaddr]
```

`readtrace` can be used print out a trace. 

# Overview
`Frames` is a format for storing execution traces. This repository contains:
- A description in [piqi](http://piqi.org/) language of the `frames` format;
- A `C++` library for writing data in the `frames` format
- An `OCaml` library `bap-frames` for reading data in the `frames` format
- A BAP plugin `frame` that provides `frames` format reader for the `bap-plugins` library

# Build and install


## OCaml bap-frames library
### From sources
```
  oasis setup
  ./configure --prefix=`opam config var prefix`
  make
  make install
```

### From opam

1. Add our opam repository if you don't have one

   ```
   opam repository add bap git://github.com/BinaryAnalysisPlatform/opam-repository.git
   ```
2. install

   ```
   opam install bap-frames
   ```

## C++ `libtrace` library

Additional depends

- protocolbufs
- piqi

1. Generate configuration files
   ```
   cd libtrace
   ./autogen.sh
   ```

2. Configure (use configuration options to your taste)
   ```
   ./configure
   ```

3. Compile and install
   ```
   make
   make install
   ```
